

item 18 - amortize the cost of expected computations
pg 95-96
about operator->

(One detail of the code requires explanation. The final statement returns
(*it).second instead of the more conventional it->second.
Why? The answer has to do with the conventions followed by the STL.
In brief, the iterator it is an object, not a pointer, so there is no guarantee
that “->” can be applied to it.(†) The STL does require that “.” and
“*” be valid for iterators, however, so (*it).second, though syntactically
clumsy, is guaranteed to work.)

(†) In July 1995, the ISO/ANSI committee standardizing C++ added a requirement that
most STL iterators support the “->” operator, so it->second should now work. Some
STL implementations fail to satisfy this requirement, however, so (*it).second is
still the more portable construct.
